\chapter{Razrada}

S obzirom da je zadana funkcija $f$ (1.1) racionalna, važeća je za svaki $x \in \mathbb{R}$ i $y \in \mathbb{R}$ \cite[vidi][stranica 119]{kolegij}.
Dakle domena funkcije je skup svih realnih brojeva:
$$
    D(f) = \mathbb{R} \times \mathbb{R} = \mathbb{R}^2
$$

\section{Parcijalne derivacije prvog reda}

Kako bismo odredili gradijent funkcije $f$, trebamo prvo odrediti parcijalne derivacije te funkcije po $x$ i $y$, pri čemu se služimo pravilima 1.4, 1.5 i 1.6:

\begin{align*}
    \frac{\partial f}{\partial x} & = \frac{\partial}{\partial x} (2x^3 + 2y^3 - 36xy + 430) \\
    & = \frac{\partial}{\partial x} 2x^3 + \frac{\partial}{\partial x}2y^3 - \frac{\partial}{\partial x}36xy + \frac{\partial}{\partial x}430 \\
    & = 6x^2 + 0 - 36y + 0 \\
    & = 6x^2 - 36y \\
    \\
    \frac{\partial f}{\partial y} & = \frac{\partial}{\partial y} (2x^3 + 2y^3 - 36xy + 430) \\
    & = \frac{\partial}{\partial y} 2x^3 + \frac{\partial}{\partial y}2y^3 - \frac{\partial}{\partial y}36xy + \frac{\partial}{\partial y}430 \\
    & = 0 + 6y^2 - 36x + 0\\
    & = 6y^2 - 36x \textnormal{.}
\end{align*}

S obzirom da je domena zadane funkcije $f$ skup svih realnih brojeva, ne trebamo isključiti rješenja iz dobivenih izraza.

\section{Crtanje grafa u Pythonu}

Za crtanje, kao što je već navedeno u uvodu, koristimo \verb|NumPy| i \verb|Matplotlib|.

\verb|NumPy|eva dokumentacija\cite{numpy_doc} i \verb|Matplotlib|ova specifikacija sučelja za programiranje aplikacija (engl. API Specification) \cite{mpl_api}, te upute za korištenje \cite{mpl_ug}, koji su dostupni putem interneta.

\verb|NumPy| omogućava podršku za rad s velikim, višedimenzionalnim poljima i matricama, zajedno sa širokim spektrom visoko-razinskih matematičkih funkcija.\par

Na početku svakog programa moramo uključiti potrebne module sa sljedećim kodom\cite[][naslov 5.4.2. Submodules]{py_lang_ref}:
\begin{minted}{python}
import numpy
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
\end{minted}



Često se koriste aliasi za sažimanje duljih imena modula koji se učestalo pojavljuju u kodu:

\begin{minted}{python}
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
\end{minted}

\subsection{NumPy}

, izvođenjem tih linija koda će Python omogučiti korištenje vanjskog koda u našim programima.

Stvaramo jednodimenzionalne nizove (polja) od $100$ uniformno razmaknutih vrijednosti između $-10$ i $10$:
\begin{minted}{python}
x = np.linspace(-10, 10, 100)
y = np.linspace(-10, 10, 100)
\end{minted}
S obzirom da su ekstremi funkcije (rješenja) dobiveni od parametara koji se nalaze u intervalu $[-10, 10]$, uneseni argumenti funkcije će biti zadovoljavajući.\par
Nakon izvršavanja tog koda imamo \verb|x| i \verb|y| nizove sa 100 elemenata nalik na:
$$
    x = y = [-10,\space-9.8,\space-9.6,\dots,\space9.8,\space10]
$$

Zatim od ta dva jednodimenzionalna niza stvaramo dvodimenzionalni niz vrijednosti:
\begin{minted}{python}
X, Y = np.meshgrid(x, y)
\end{minted}
U našem slučaju se radi o $100\times100$ nizevima nalik na:
\begin{align*}
    X = Y^T = [&[-10,\space-9.8,\dots,\space9.8,\space10],\\
    &[-10,\space-9.8,\dots,\space9.8,\space10],\\
    &\hspace*{0.15\linewidth}\vdots\\
    &[-10,\space-9.8,\dots,\space9.8,\space10]]
\end{align*}

\verb|NumPy| nam dozvoljava simboličko izražavanje funkcija, pa za računanje \verb|Z| vrijednosti grafa, tj. rezultata funkcije $f$ koji su nam potrebni za crtanje grafa, možemo koristiti:
\begin{minted}{python}
Z = 2*X**3 + 2*Y**3 - 36*X*Y + 430
\end{minted}
, što će generirati novi dvodimenzionalni niz (dimenzija $100\times100$) koji zadovoljava jednadžbu funkcije 1.1.\par
To je jedina linija koda koju moramo mjenjati za crtanje različitih grafova u ovom slučaju.\par
\verb|NumPy| u pozadini računa sve vrijednosti rezultirajućeg dvodimenzionalnog niza za sve odgovarajuće
parove\footnote{Parovi u rezultatu su usklađeni na osnovu stupca i retka} \verb|X| i \verb|Y| vrijednosti,
tj. za sve kombinacije \verb|x| i \verb|y| vrijednosti.

Time dobivamo dvodimenzionalni niz svih vrijednosti koje funkcija može poprimiti za sve kombinacije $x$ i $y$ u intervalima $[-10, 10]$:
$$
{{f(x,y) \mid x \in [-10, 10]} \mid y \in [-10, 10]}
$$

Razlog zašto možemo na tako prirodan način izraziti operacije nad multidimenzionalnim nizovima pomoću \verb|NumPy|a je zato što su
\verb|X| i \verb|Y| apstraktne reprezentacije nizeva za koje su definirani\footnote{Definirani kao preoptrećenja operatora u Pythonu} svi matematički operatori koje Python podržava za normalne brojeve.\par
Tako da nam \verb|X**3| prvo daje novi niz gdje je svaki element/broj iz niza \verb|X| eksponenciran brojem $3$.
Zatim je izraz \verb|2*X**3| evaluiran i zbog množenja rezultata sa $2$, \verb|NumPy| množi sve elemente niza sa $2$.
Na kraju vrši binarne operacije nad samim nizovima gdje dobivamo rješenja polinoma za cijeli izraz, te će taj rezultatski niz biti pohranjen u \verb|Z|.

Sada kada imamo sve vrijednosti koje funkcija poprima, možemo koristiti \verb|Matplotlib| za crtanje grafa. Za početak stvaramo 
\begin{minted}{python}
Z = 2*X**3 + 2*Y**3 - 36*X*Y + 430
\end{minted}

\subsection{Matplotlib}

\verb|Matplotlib| pruža funkcije za crtanje širokog raspona statičkih, animiranih i interaktivnih vizualizacija.
Može se koristiti za stvaranje dijagrama stupčastih grafova, linijskih grafova, grafova raspršenja, pogrešnih traka,
histograma, dijagrama kružnica, dijagrama kutije i mnogih drugih vrsta vizualizacija.

U napisanom kodu stvaramo novu figuru \footnote{Figura (engl. Figure) je u Matplotlib biblioteci cijelokupni prostor za crtanje koji može sadržavati jedan ili više grafova.} za crtanje
te ju pohranjujemo u \verb|fig| varijablu:
\begin{minted}{python}
    fig = plt.figure()
\end{minted}

Stvaramo 3D podgraf unutar figure i pohranjujemo ga u \verb|ax| varijablu:

\begin{minted}{python}
fig.add_subplot(111, projection='3d')
\end{minted} 

Prvi argument (\verb|111|) određuje poziciju podgrafa unutar figure:
\begin{itemize}
    \item prvi broj određuje broj redaka,
    \item drugi broj stupaca,
    \item a treći broj indeks podgrafa.
\end{itemize}
U ovom slučaju, \verb|111| stvara jedan podgraf koji se proteže cijelom figurom. Ovaj argument nije obavezan jer smo koristili zadanu vrijednost, no naveden je u svrhu boljeg objašnjavanja figura.

Argument (\verb|projection|) specificira projekciju grafa, s obzirom da se radi o 3D grafu koristimo vrijednost \verb|'3d'|.
Potrebno je navesti projekciju jer je zadana vrijednost \verb|'rectilinear'| koja je zapravo ortogonalna projekcija usmjerena u ravninu s rješenjima $z = 0$ i koristi se za crtanje dvodimenzionalnih grafova.
Argumentom \verb|'3d'| navodimo da očekujemo ortogonalnu projekciju trodimenzionalnog grafa, koja gleda u smjeru:
$$
\vec{v} = (\text{\it azimut}, \text{\it elevacija}) = (-60^{\circ}, 30^{\circ})
$$

U slučaju da želimo izmjeniti kut projekcije, to možemo postignuti korištenjem \verb|mpl_toolkits.mplot3d.axes3d.Axes3D.view_init()| funkcije:
\begin{minted}{python}
ax.view_init(elev=zeljenja_elevacija, azim=zeljeni_azimut)
\end{minted}
, no rezultati dobiveni zadanim vrijednostima su dovoljno jasni pa to nije potrebno u ovom slučaju.

\section{Gradijent funkcije}

Određujemo gradijent funkcije $f$ uz dobivene parcijalne derivacije na osnovu formule 1.2:

\begin{equation}
    \nabla f(\mathbf{x}, \mathbf{y}) = \begin{bmatrix}
        6x^2 - 36y \\
        6y^2 - 36x
    \end{bmatrix}\textnormal{,}
\end{equation}

\section{Ekstremi}

Gradijent 2.1 izjednačujemo s nulom kako bi mu odredili nulte točke tj. ekstreme funkcije.
To možemo izraziti kao sustav (1.3):

$$
\begin{cases}
    6x^2 - 36y = 0 \\
    6y^2 - 36x = 0 \textnormal{.}
\end{cases}
$$

Izrazimo $y$ iz prvog izraza,
\begin{align*}
    6x^2 - 36y &= 0 \\
    36y & = 6x^2 \\
    y & = \frac{6x^2}{36} = \frac{x^2}{6} \\
\end{align*}

te ga uvrštavamo u drugi kako bismo dobili jednadžbu za $x$eve nultih točaka gradijenta:
\begin{align}
    6(\frac{x^2}{6})^2 - 36x & = 0 \nonumber \\
    x^4 - 36x & = 0 \textnormal{.}
\end{align}

Jedno rješenje ($x_1$) uočavamo nakon izlučivanja $x$a iz izraza:
\begin{align*}
    x(x^3 - 36) &= 0 \\
    x_1 &= 0 \textnormal{.}
\end{align*}

Zaključujemo da je jedno rješenje $x_1 = 0$ jer ako je $x$ jednak nuli, onda će jednadžba 2.2 vrijediti. \par

Drugi član umnoška nam daje drugo rješenje:
\begin{align*}
    x^3 - 36 &= 0 \\
    x^3 &= 36 \\
    x &= \sqrt[3]{36} \textnormal{,}
\end{align*}

ali zbog duplog pojavljivanja $x$a u zadanom polinomu se radi o funkciji simetričnoj s obzirom na ishodište te je zbog toga dobiveno rješenje zapravo dvojno rješenje:

$$
x_{2,3} = \pm \sqrt[3]{36} \textnormal{.}
$$

Time dobivamo 3 rješenja sustava za $x$:
\begin{gather*}
    x_1 = 0 \qquad x_2 = \sqrt[3]{36} \qquad x_3 = -\sqrt[3]{36}
\end{gather*}

Za $x_1 = 0$, $y_1$ će biti $0$. $y_2$ i $y_3$ računamo uvrštavajući dobivene vrijednosti za $x$ sa jednom od parcijalnih derivacija:

\begin{align*}
    6x^2 - 36y &= 0\\
    6(\sqrt[3]{36})^2 - 36y &= 0\\
    36y &= 6(\sqrt[3]{36^2})\\
    6y &= \sqrt[3]{36^2} \\
    y &= \frac{\sqrt[3]{6^4}}{6} \\
    y &= 6^{\frac{4}{3}} * 6^{-1} = 6^{\frac{4}{3}} * 6^{-\frac{3}{3}} = 6^{\frac{4}{3} - \frac{3}{3}} \\
    y &= \sqrt[3]6
\end{align*}

Time utvrđujemo da su ekstremi funkcije $f$:

\begin{center}
\begin{tabular}{c | c}
    $x$ & $y$ \\
    \hline
    $0$ & $0$ \\
    $\sqrt[3]{36}$ & $\sqrt[3]6$ \\
    $-\sqrt[3]{36}$ & $-\sqrt[3]6$ \\
\end{tabular}
\end{center}

\newpage